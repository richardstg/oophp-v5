---
---
Redovisning kmom03
=========================

Jag har inte mycket erfarenhet av att skriva kod som testar annan kod. Det enda jag gjort sedan tidigare var det vi gjorde i oopython kursen. Inom den så minns jag att ett kursmoment där jag hade svårt för att testa koden. Jag hade konstruerat klassen med dess metoder på ett sätt som gjorde den olämplig för detta. Metoderna var relativt stora och dåligt avgränsade. Det gjorde att jag kunde relatera till vad som stod i förberedelsematerialet och det är något jag kommer att ha i bakhuvudet när jag skriver kod framöver. Med kod som är skriven för att kunna genomgå enhetstestning så får man en mer väluppdelad och strukturerad kod, med metoder som fyller ett tydligt syfte.

Vid white box testning har man full vetskap om hur källkoden ser ut. Man kan se hur koden testas rad för rad, liksom vi gjorde i kursmomentet. Vid Black box testing är källkoden dold och vid testet vet man inte vilken kod som exekveras. Man vet vad koden ska göra, men inte hur den uppnår det. I testerna kan man undersöka att en input ger en viss output, utan att ha insyn i vilka kodrader som ger upphov till resultatet. Grey box testning är en kombination av de båda. Man har viss insyn i koden genom att exempelvis ha tillgång till dokumentation och vet vilka algoritmer som används. Positiva tester innebär att metoderna får giltig input som gör att de fungerar som tänkt, utan felmeddelanden. Med ett negativt test så testar man vad som sker när felaktig input ges. Exempelvis undersöker man att en viss input ger upphov till ett specifikt exception.

För att lösa tärningsuppgiften började jag med att sätta upp grunden. Detta gjorde jag på samma sätt som för Guess-spelet, och jag kopierade därför strukturen därifrån. Jag skapade filer och mappar för klasser och routes på samma sätt, men med nya namn. Då vi redan skapat ett enklare tärningsspel med klasser för tärning och tärningshand valde jag att återanvända dessa i det nya spelet. På så vis fick jag en grundstruktur och kunde därefter börja bygga upp spelet. Jag skapade själva spelklassen, spelvyerna och spelets routes. Jag tycker att jag lyckades organisera min kod ganska väl. Logiken finns inom spelklassen. Routesen har en tydlig uppdelning och fyller var och en ett specifikt syfte. Deras kodmängd är också liten. Jag eftersträvade att flödet skulle vara naturligt och enkelt att följa.

Det gick överlag bra med testningen. Jag tycker jag lyckades relativt väl med att skapa testbara metoder. Det var ett par metoder som jag fick lite svårt att testa fullt ut den här gången. Ännu har jag inte den naturliga känslan för hur man skriver testbar kod. Jag upplever att jag fortfarande har mycket att lära, men tror kursmomentet gav mig viktiga insikter relaterat till detta.

Jag använde mig först endast av en vy i tärningsspelet, och märkte snabbt hur rörig den blev. Vyn hade många if-satser och jag var även tvungen att ha med alla datavariabler för varje rendering i routesen, vilket inte heller var bra. Jag känner att jag fortfarande lite ovan vid PHP jämfört med exempelvis Javascript. Det blev en lärdom och nästa gång kommer jag ha bättre koll på detta från början. Likaså tar jag med mig nya insikter om nyttan av att skriva testbar kod från början och hur man ska resonera.
